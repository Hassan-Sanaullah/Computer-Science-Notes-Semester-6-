# Color Models  

## The HSI Color Model  

Creating colors in the **RGB, CMY, and CMYK** models and converting between them is straightforward. These models are ideal for hardware implementations. The **RGB model** aligns well with human vision, as the eye is sensitive to **red, green, and blue**.  

However, **RGB and CMY models are not intuitive** for human color description. People describe colors using:  

- **Hue (H):** The attribute that defines a pure color (e.g., yellow, orange, red).  
- **Saturation (S):** The measure of how much a pure color is diluted by white light.  
- **Brightness (Intensity, I):** A subjective descriptor that represents achromatic intensity.  

### Why HSI?  
The **HSI model** separates the **intensity** component from the color-carrying components (**hue and saturation**). This makes it more **intuitive for color processing** based on human perception.  

- **RGB is ideal** for image generation (e.g., cameras, displays).  
- **HSI is ideal** for color description and processing.  

### Extracting Intensity from an RGB Image  
An **RGB image** consists of three grayscale intensity images (red, green, and blue). The intensity can be extracted using the formula:  

$I = \frac{R + G + B}{3}$  

This formula is derived by considering the **color cube**, where:  

- The **black vertex (0,0,0)** is at the bottom.  
- The **white vertex (1,1,1)** is at the top.  
- The **intensity axis** is the line joining black and white.  

A **plane perpendicular** to the intensity axis will intersect it at a point that gives the **intensity value** in the range **[0,1]**.  
(see fig 6.10 on page 411)
### Understanding Saturation  
- **Saturation** increases as the distance from the **intensity axis** increases.  
- **Points on the intensity axis have zero saturation** (they are grayscale).  

### Understanding Hue  
- Hue can be determined from an **RGB value** using geometric relationships.  
- If a plane passes through **black, white, and a color (e.g., cyan)**, all points in that plane share the **same hue**.  
- Rotating this plane about the **intensity axis** changes the hue.  

### The HSI Color Space  
- The **HSI space** consists of:  
  - A **vertical intensity axis**.  
  - A **locus of colors** in planes perpendicular to the axis.  
- As **planes move up and down**, they form **triangular or hexagonal** shapes when intersecting the RGB cube.  
(see fig 6.11 on page 413)
#### Hue and Saturation Representation  
- **Primary colors (RGB) are separated by 120°** in the hue circle.  
- **Secondary colors (cyan, magenta, yellow) are 60° from the primaries**.  
- The **hue of a point** is determined by the angle from a reference (usually red at 0°).  
- **Saturation is the distance from the intensity axis**.  

### Alternative Representations  
- The **HSI space** can be represented as:  
  - **Hexagons** (color wheel view).  
  - **Triangles** (color mixing).  
  - **Circles** (continuous hue representation).  

All these shapes can be transformed into each other using **geometric transformations**.  

# Color Transformations

## Definition  
A **color transformation** refers to the process of altering the color values of an image based on a mathematical function. It can be represented as:

$$
s_i = T_i (r_i), \quad i = 1,2,... , n
$$

where:  
- $n$ is the number of color components in the image (e.g., 3 for RGB, 4 for CMYK).  
- $r_i$ represents the intensity values of the input color components.  
- $s_i$ represents the intensity values of the transformed (output) image.  
- $T_i$ is the transformation function applied to each component.  

### Color Models and Component Count
Different color models define color using a different number of components:  
- **RGB, CMY, and HSI** use **three** components ($n = 3$).  
- **CMYK** uses **four** components ($n = 4$).  
- The transformation $T$ applied can be **different for each component** (e.g., Red, Green, Blue in RGB).  

Even though any transformation can be performed in **any** color space, some operations are **better suited** for specific models. For example, brightness adjustments are easier in **HSI** than in **RGB**.

---

## Intensity Modification Example  
If we modify the **intensity** of an image by multiplying the pixel values by a constant $k$ (where $k$ is in the range $[0,1]$), the transformation varies depending on the color model:

### **HSI (Hue, Saturation, Intensity)**
- Only the **intensity** component is modified:
  
  $$
  s_1 = r_1, \quad s_2 = r_2, \quad s_3 = k r_3
  $$

  - **Hue (H) and Saturation (S) remain unchanged**, ensuring that only brightness is adjusted.

### **RGB (Red, Green, Blue)**
- Each component is modified by multiplying with $k$:

  $$
  s_i = k r_i, \quad i = 1,2,3
  $$

  - The image appears uniformly darker or brighter.
  - This transformation **does not** preserve the perceived brightness in the same way as HSI.

### **CMY (Cyan, Magenta, Yellow)**
- All three components are modified, but with an additional offset:

  $$
  s_i = k r_i + (1-k), \quad i = 1,2,3
  $$

  - This transformation **ensures that white areas remain white** even when intensity is reduced.

### **CMYK (Cyan, Magenta, Yellow, Black)**
- Only the **black (K) component** is modified:

  $$
  s_1 = r_1, \quad s_2 = r_2, \quad s_3 = r_3, \quad s_4 = k r_4 + (1 - k)
  $$

  - This helps in reducing ink usage while keeping color consistency.

---

## General Formulation  
Color transformations for multispectral images can be modeled using:

$$
s_i = T_i(r_i), \quad i = 1,2,..., n
$$

where each transformation function $T_i$ operates on $r_i$ to produce $s_i$.  

For **RGB color images**:  
- $n = 3$  
- $(r_1, r_2, r_3)$ are the intensity values of the input image.  
- $(s_1, s_2, s_3)$ are the transformed values in the output image.  

Each transformation $T_i$ can be different for each color component.

---

## Example: CMYK Image Breakdown  (page 432)
To better understand how color models work, consider an image of strawberries:

### **CMYK Components**
- **Strawberries** contain large amounts of **magenta** and **yellow**.  
- **Black (K)** is used in dark regions like coffee and shadows.  

### **RGB Equivalent**
- Strawberries contain a large amount of **red** and very little **green** and **blue**.  

### **HSI Equivalent**
- **Intensity (I)** appears as a grayscale version of the image.  
- **Saturation (S)** is highest where colors are pure.  
- **Hue (H)** can be difficult to interpret due to discontinuities at **0° and 360°**.  

---

## Choosing the Right Color Space  
- Any transformation **can** be performed in **any** color space.  
- However, some transformations are **better suited** for specific models.  
- Example: **Modifying intensity**  
  - **HSI**: Modify only the **intensity** component.  
  - **RGB**: Modify all three components equally.  
  - **CMY**: Modify all three components with an additional offset.  
  - **CMYK**: Modify only the **K** component.  

---

## Summary  
- Color transformations modify pixel intensity values while keeping the color model intact.  
- Different color models require different transformation techniques.  
- Intensity changes affect different components depending on the chosen color model.  
- Some color models are better suited for certain operations (e.g., HSI for intensity changes).  

# Color Complements

## Definition
The **color circle** (or **color wheel**) is a visual representation of colors based on their chromatic relationships. It was first conceptualized by **Sir Isaac Newton** in the 17th century by connecting the ends of the color spectrum.

- The primary colors (**Red, Green, Blue**) are equidistant from each other.
- The secondary colors (**Cyan, Magenta, Yellow**) are placed between them.
- **Hues directly opposite each other on the color circle are complements.**

## Color Complements in RGB
In the **RGB** color model, complementary colors are defined as:

| **Color** | **Complement** |
| --------- | -------------- |
| Red       | Cyan           |
| Green     | Magenta        |
| Blue      | Yellow         |

Each of these complements is found by subtracting the **original** RGB values from 1:

$$
s_i = 1 - r_i, \quad i = 1,2,3
$$

where:
- $s_i$ is the transformed color component.
- $r_i$ is the input color component.
- $i$ represents **Red, Green, and Blue**.

The result is similar to grayscale negatives but applied to **color images**. This technique is useful for **enhancing details in dark areas**.

## Color Complements in HSI
In the **HSI (Hue, Saturation, Intensity)** color space, computing the complement is not as straightforward:

- **Hue (H) is shifted by 0.5 (180° in degrees)**:
  
  $$
  H_{\text{out}} =
  \begin{cases} 
  H_{\text{in}} + 0.5, & 0.0 \leq H_{\text{in}} \leq 0.5 \\
  H_{\text{in}} - 0.5, & 0.5 < H_{\text{in}} \leq 1.0
  \end{cases}
  $$

- **Saturation (S) remains unchanged**:

  $$
  S_{\text{out}} = S_{\text{in}}
  $$

- **Intensity (I) is inverted**:

  $$
  I_{\text{out}} = 1 - I_{\text{in}}
  $$

Unlike **RGB complements**, the **saturation component** of an HSI complement **cannot be computed solely** from the saturation component of the input image. The transformation affects **hue and intensity** directly, leading to **visual differences between RGB and HSI complements**.

## Applications of Color Complements
- Enhancing **details in dark regions**.
- Creating **photographic color negatives**.
- **Color correction** and **image balancing**.
- Artistic effects in **image processing** and **graphic design**.

### Example: Computing Color Complements
Given an image in **RGB**:
- **Reds** in the original become **Cyan** in the complement.
- **Greens** become **Magenta**.
- **Blues** become **Yellow**.
- **Black** regions turn **white**, and vice versa.

These transformations are predictable using the **color circle**, making **color complements** an essential tool in **digital image processing**.

# Color Slicing

## Definition
Color slicing is a technique used to **highlight a specific range of colors** in an image. This is useful for:
1. Making certain colors **stand out** from the background.
2. Creating a **mask** for further image processing.

Unlike grayscale intensity slicing, color slicing works in an **n-dimensional color space** (e.g., RGB, CMY, HSI), making the transformations more complex.

## Methods of Color Slicing
Color slicing is performed by defining a **region of interest (ROI)** in the color space:
1. **Using a Cube (Hypercube for $n > 3$)**  
   - A cube of width $W$ is centered at a specific color $(a_1, a_2, ..., a_n)$.
   - Colors inside the cube are retained, while others are mapped to a neutral color.

   The transformation is:

   $$
   s_i =
   \begin{cases} 
   r_i, & \text{if} \quad \max_j |r_j - a_j| \leq W/2, \quad j = 1,2,...,n \\
   0.5, & \text{otherwise}
   \end{cases}
   $$

   where:
   - $r_i$ is the input color component.
   - $s_i$ is the transformed output color component.
   - The neutral point (e.g., **gray** in RGB) is set to **(0.5, 0.5, 0.5)**.

2. **Using a Sphere (Hypersphere for $n > 3$)**  
   - A sphere of radius $R_0$ is centered at color $(a_1, a_2, ..., a_n)$.
   - Colors inside the sphere are retained, while others are mapped to a neutral color.

   The transformation is:

   $$
   s_i =
   \begin{cases} 
   r_i, & \text{if} \quad \sum_{j=1}^{n} (r_j - a_j)^2 \leq R_0^2 \\
   0.5, & \text{otherwise}
   \end{cases}
   $$

   This method allows a more **gradual** selection of colors compared to the cube approach.

## Applications of Color Slicing
- **Object segmentation**: Extracting objects of a particular color.
- **Feature enhancement**: Highlighting important colors in an image.
- **Medical imaging**: Isolating specific tissues based on color properties.
- **Agriculture**: Identifying fruits or vegetation in images.

## Example: Extracting Strawberries
- **Prototype color selected**: Red **(0.6863, 0.1608, 0.1922)**.
- **Threshold values**:
  - Cube: $W = 0.2549$
  - Sphere: $R_0 = 0.1765$
- The **sphere-based approach** performed better by preserving more red areas.

More advanced **color segmentation techniques** can improve color slicing by incorporating **machine learning** and **statistical models**.
